<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: urlBuilder.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: urlBuilder.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>﻿'use strict';

const URL = require('url');

// Defining constants for the KLF-200 REST-API
const API = '/api/v1/';

/**
 * Defines the supported functions for the KLF REST-API.
 * @enum {string}
 * @private
 */
const functionNames = {
    /** Use for login and logout */
    authentication: 'auth',
    device: 'device',
    scenes: 'scenes',
    products: 'products'
};

const validFunctionNames = [];
Object.getOwnPropertyNames(functionNames).forEach((value, index, array) => {
    validFunctionNames.push(functionNames[value]);
});

/**
 * Helper functions to build the URL paths.
 * @constructor
 */
function urlBuilder() { }

/** Use as [functionName]{@link urlBuilder#getPath~functionName} parameter in the [getPath]{@link urlBuilder#getPath} method for login and logout */
urlBuilder.prototype.authentication = functionNames.authentication;
/** Use for the KLF interface status */
urlBuilder.prototype.device = functionNames.device;
/** Use for getting or running scenes */
urlBuilder.prototype.scenes = functionNames.scenes;
/** Use for getting a list of the products */
urlBuilder.prototype.products = functionNames.products;

//urlBuilder.prototype.getAPIUrl = function (host, functionName) {
//    if (!host)
//        throw new RangeError('Parameter \'host\' must not be empty.');

//    if (!functionName)
//        throw new RangeError('Parameter \'functionName\' must not be empty.');

//    let url = URL.parse(host);
//    url.pathname = API + functionName;
//    return URL;
//}

/**
* Returns the path to use in the http.request method.
* @method
* @param {string} functionName The function you want to use in your call. Use on of [urlBuilder.authentication]{@link urlBuilder#authentication}, [urlBuilder.device]{@link urlBuilder#device}, [urlBuilder.scenes]{@link urlBuilder#scenes} or [urlBuilder.products]{@link urlBuilder#products}
* @returns {string} Returns the path to use in the http.request method.
*/
urlBuilder.prototype.getPath = function (functionName) {
    if (!functionName)
        throw new RangeError('Parameter \'functionName\' must not be empty.');

    if (!validFunctionNames.some((value) => { return value === functionName; }))
        throw new RangeError('Function "' + functionName.toString() + '" not supported.');

    return API + functionName;
};

module.exports = new urlBuilder();
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="connection.html">connection</a></li><li><a href="products.html">products</a></li><li><a href="scenes.html">scenes</a></li><li><a href="urlBuilder.html">urlBuilder</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.3</a> on Mon Sep 25 2017 11:37:28 GMT+0200 (Mitteleuropäische Sommerzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
